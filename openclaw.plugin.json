{
  "id": "cortex-memory",
  "name": "Cortex Memory",
  "description": "Long-term memory powered by Cortex — Auto-Recall, Auto-Capture, transcript ingestion, periodic consolidation, and background file sync",
  "version": "0.3.1",
  "kind": "memory",
  "configSchema": {
    "type": "object",
    "required": ["apiKey"],
    "properties": {
      "apiKey": {
        "type": "string",
        "description": "Cortex API key"
      },
      "baseUrl": {
        "type": "string",
        "description": "Cortex API base URL",
        "default": "https://q5p64iw9c9.execute-api.us-east-1.amazonaws.com/prod"
      },
      "autoRecall": {
        "type": "boolean",
        "description": "Inject relevant memories before each agent turn",
        "default": true
      },
      "autoCapture": {
        "type": "boolean",
        "description": "Extract facts from conversations after agent turns",
        "default": true
      },
      "recallTopK": {
        "type": "number",
        "description": "Number of memories to retrieve per turn",
        "default": 5
      },
      "recallTimeoutMs": {
        "type": "number",
        "description": "Maximum time to wait for memory recall (ms)",
        "default": 500
      },
      "recallMode": {
        "type": "string",
        "enum": ["fast", "balanced", "full"],
        "description": "Retrieval depth — fast (BM25 + semantic), balanced (+ light reranking), full (+ graph traversal + reranker)",
        "default": "fast"
      },
      "fileSync": {
        "type": "boolean",
        "description": "Watch MEMORY.md and daily logs for background ingestion",
        "default": true
      },
      "transcriptSync": {
        "type": "boolean",
        "description": "Watch sessions/*.jsonl and ingest cleaned transcripts",
        "default": true
      },
      "reflectIntervalMs": {
        "type": "number",
        "description": "Interval for periodic memory consolidation (ms). Set to 0 to disable.",
        "default": 3600000
      },
      "recallQueryType": {
        "type": "string",
        "enum": ["factual", "emotional", "combined"],
        "description": "Type of retrieval query — factual (entities/facts), emotional (feelings/values), or combined",
        "default": "combined"
      },
      "namespace": {
        "type": "string",
        "description": "Session namespace to isolate memory per workspace/project. Auto-derived from workspace directory if not set.",
        "default": "openclaw"
      }
    }
  },
  "uiHints": {
    "apiKey": {
      "label": "API Key",
      "sensitive": true,
      "placeholder": "sk-cortex-..."
    },
    "baseUrl": {
      "label": "Base URL",
      "advanced": true
    },
    "recallTopK": {
      "label": "Recall Top-K",
      "advanced": true
    },
    "recallTimeoutMs": {
      "label": "Recall Timeout (ms)",
      "advanced": true
    },
    "recallMode": {
      "label": "Recall Mode",
      "helpText": "Fast is best for low-latency auto-recall. Full enables graph traversal for deeper retrieval at higher latency."
    },
    "transcriptSync": {
      "label": "Transcript Sync",
      "helpText": "Automatically ingest session transcripts (sessions/*.jsonl) after stripping system prompts and tool JSON."
    },
    "reflectIntervalMs": {
      "label": "Reflect Interval (ms)",
      "advanced": true,
      "helpText": "How often to consolidate memories (SUPERSEDES chains, contradiction detection). Set to 0 to disable."
    },
    "recallQueryType": {
      "label": "Recall Query Type",
      "advanced": true,
      "helpText": "Controls what type of memories are prioritised during retrieval."
    },
    "namespace": {
      "label": "Namespace",
      "advanced": true,
      "helpText": "Isolates memory per workspace. Auto-derived from workspace directory if left empty."
    }
  }
}
